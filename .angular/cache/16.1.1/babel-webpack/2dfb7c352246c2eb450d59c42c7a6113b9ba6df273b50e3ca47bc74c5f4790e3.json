{"ast":null,"code":"//importamo el modal\nimport { DefaultModalComponent } from '../DefaultsComponents/default-modal/default-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/material/dialog\";\nfunction PersonaListaComponent_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"b\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function PersonaListaComponent_tr_20_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const persona_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openEditModal(persona_r1));\n    });\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function PersonaListaComponent_tr_20_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const persona_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deletePersona(persona_r1));\n    });\n    i0.ɵɵtext(12, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const persona_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(persona_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r1.ap_paterno);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r1.ap_materno);\n  }\n}\nexport class PersonaListaComponent {\n  //creamos un constructor\n  //private dialog: MatDialog\n  constructor(http, dialog) {\n    this.http = http;\n    this.dialog = dialog;\n    // Propiedad para almacenar los datos de las personas\n    this.personas = [];\n  }\n  //con el OnInit hacemos el get de la api\n  ngOnInit() {\n    this.http.get('http://127.0.0.1:8000/api/v1.0/personas').subscribe(data => {\n      this.personas = data.data;\n      console.log(data);\n    });\n  }\n  //Creamos la funcion crear \n  openCreateModal() {\n    const dialogRef = this.dialog.open(DefaultModalComponent, {\n      data: {\n        action: 'create'\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        // Se ha guardado una nueva persona, realiza las acciones necesarias, como enviar una solicitud HTTP para guardarla en el servidor\n        const nuevaPersona = {\n          //nombres de la base de datos\n          nombre: result.nombre,\n          ap_paterno: result.ap_paterno,\n          ap_materno: result.ap_materno\n        };\n        // Envía la solicitud HTTP para guardar la nueva persona\n        this.http.post('http://127.0.0.1:8000/api/v1.0/persona/create', nuevaPersona).subscribe(response => {\n          // Actualiza la lista de personas con la respuesta del servidor\n          this.personas.push(response.data);\n        });\n      }\n    });\n  }\n  //creamos la funcion para abrir el modal\n  openEditModal(persona) {\n    const dialogRef = this.dialog.open(DefaultModalComponent, {\n      data: {\n        action: 'edit',\n        nombre: persona.nombre,\n        ap_paterno: persona.ap_paterno,\n        ap_materno: persona.ap_materno\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        // Se ha guardado la edición de la persona, realiza las acciones necesarias, como enviar una solicitud HTTP para actualizarla en el servidor\n        const personaEditada = {\n          //nombres de la base de datos\n          nombre: result.nombre,\n          ap_paterno: result.ap_paterno,\n          ap_materno: result.ap_materno\n        };\n        // Envía la solicitud HTTP para actualizar la persona en la ruta correspondiente (por ejemplo, 'http://127.0.0.1:8000/api/v1.0/persona/123')\n        this.http.put(`http://127.0.0.1:8000/api/v1.0/persona/update/${persona.id}`, personaEditada).subscribe(response => {\n          // Actualiza la lista de personas con la respuesta del servidor\n          const personaActualizada = response.data;\n          const index = this.personas.findIndex(p => p.id === personaActualizada.id);\n          if (index !== -1) {\n            this.personas[index] = personaActualizada;\n          }\n        });\n      }\n    });\n  }\n  //creamos la funcion para eliminar la persona\n  deletePersona(persona) {\n    this.http.delete(`http://127.0.0.1:8000/api/v1.0/persona/delete/${persona.id}`).subscribe(() => {\n      // Elimina la persona de la lista local\n      this.personas = this.personas.filter(p => p.id !== persona.id);\n    });\n  }\n}\nPersonaListaComponent.ɵfac = function PersonaListaComponent_Factory(t) {\n  return new (t || PersonaListaComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\nPersonaListaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PersonaListaComponent,\n  selectors: [[\"app-persona-lista\"]],\n  decls: 21,\n  vars: 1,\n  consts: [[1, \"containerPersona\"], [1, \"containerPersona__sub\"], [1, \"containerPersona__sub--title\"], [3, \"click\"], [1, \"containerPersona__sub--table\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function PersonaListaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n      i0.ɵɵtext(4, \"Personas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function PersonaListaComponent_Template_button_click_5_listener() {\n        return ctx.openCreateModal();\n      });\n      i0.ɵɵtext(6, \"Crear\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"table\")(9, \"thead\")(10, \"tr\")(11, \"th\");\n      i0.ɵɵtext(12, \"Persona\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Apellido Paterno\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Apellido Materno\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"tbody\");\n      i0.ɵɵtemplate(20, PersonaListaComponent_tr_20_Template, 13, 3, \"tr\", 5);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.personas);\n    }\n  },\n  styles: [\".containerPersona[_ngcontent-%COMP%] {\\n  justify-content: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  align-items: center;\\n  height: 100vh;\\n  display: flex;\\n  width: 100%;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub[_ngcontent-%COMP%] {\\n  width: 70%;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--title[_ngcontent-%COMP%] {\\n  justify-content: space-between;\\n  flex-direction: row;\\n  align-items: center;\\n  display: flex;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: crimson;\\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\\n  border-radius: 10px;\\n  transition: 0.4s;\\n  cursor: pointer;\\n  color: white;\\n  border: none;\\n  height: 6vh;\\n  width: 10vh;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: rgb(238, 92, 121);\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%] {\\n  box-shadow: rgba(17, 12, 46, 0.15) 0px 48px 100px 0px;\\n  border-radius: 10px;\\n  max-height: 350px;\\n  margin-top: 3vh;\\n  overflow: auto;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  border-radius: 10px;\\n  text-align: center;\\n  width: 100%;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] {\\n  background-color: #1976d2;\\n  color: white;\\n  position: sticky;\\n  top: 0;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  padding: 2vh;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid rgb(225, 225, 225);\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 1vh;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(1) {\\n  background-color: #1976d2;\\n  color: white;\\n  border-radius: 5px;\\n  margin-right: 2vh;\\n  padding: 2vh 3vh;\\n  cursor: pointer;\\n  transition: 0.4s;\\n  border: none;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(1):hover {\\n  background-color: #56a4f1;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(2) {\\n  background-color: crimson;\\n  color: white;\\n  border-radius: 5px;\\n  margin-right: 2vh;\\n  padding: 2vh 3vh;\\n  cursor: pointer;\\n  transition: 0.4s;\\n  border: none;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-of-type(2):hover {\\n  background-color: rgb(238, 92, 121);\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]::-webkit-scrollbar {\\n  width: 5px;\\n  height: 5px;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\n  background-color: #c2c2c2;\\n  border-radius: 4px;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n  background-color: #1976d2;\\n  border-radius: 2px 4px 4px 2px;\\n}\\n.containerPersona[_ngcontent-%COMP%]   .containerPersona__sub--table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\\n  background-color: #1976d2;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGVyc29uYS1saXN0YS9wZXJzb25hLWxpc3RhLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVdBO0VBQ0ksdUJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7QUFWSjtBQVdJO0VBQ0ksVUFBQTtBQVRSO0FBVVE7RUFDSSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0FBUlo7QUFTWTtFQUNJLHlCQXhCRDtFQXlCQyx3RkEzQkY7RUE0QkUsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxZQTNCRjtFQTRCRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUFQaEI7QUFRZ0I7RUFDSSxtQ0FqQ0U7QUEyQnRCO0FBVVE7RUFDSSxxREF4Q0U7RUF5Q0YsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBUlo7QUFTWTtFQUNJLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFQaEI7QUFRZ0I7RUFDSSx5QkE5Q0M7RUErQ0QsWUFqRE47RUFrRE0sZ0JBQUE7RUFDQSxNQUFBO0FBTnBCO0FBUXdCO0VBQ0ksWUFBQTtBQU41QjtBQVdvQjtFQUNJLDJDQUFBO0FBVHhCO0FBVXdCO0VBQ0ksWUFBQTtBQVI1QjtBQVM0QjtFQUNJLHlCQTlEWDtFQStEVyxZQWpFbEI7RUFrRWtCLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUFQaEM7QUFRZ0M7RUFDSSx5QkF0RWhCO0FBZ0VwQjtBQVM0QjtFQUNJLHlCQS9FakI7RUFnRmlCLFlBOUVsQjtFQStFa0Isa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQVBoQztBQVFnQztFQUNJLG1DQXZGZDtBQWlGdEI7QUFjUTtFQUNJLFVBQUE7RUFDQSxXQUFBO0FBWlo7QUFjUTtFQUNJLHlCQUFBO0VBQ0Esa0JBQUE7QUFaWjtBQWNRO0VBQ0kseUJBckdTO0VBc0dULDhCQUFBO0FBWlo7QUFjUTtFQUNJLHlCQXpHUztBQTZGckIiLCJzb3VyY2VzQ29udGVudCI6WyIvL3ZhcmlhYmxlc1xyXG4kYm94U2hvYWRvdzE6IHJnYmEoNTAsIDUwLCA5MywgMC4yNSkgMHB4IDJweCA1cHggLTFweCwgcmdiYSgwLCAwLCAwLCAwLjMpIDBweCAxcHggM3B4IC0xcHg7XHJcbiRib3hTaG9hZG93MjogcmdiYSgxNywgMTIsIDQ2LCAwLjE1KSAwcHggNDhweCAxMDBweCAwcHg7XHJcbiRjb2xvci1jcmVhdGU6IGNyaW1zb247XHJcbiRjb2xvci1jcmVhdGUtLWhvdmVyOiByZ2IoMjM4LCA5MiwgMTIxKTtcclxuJGNvbG9yLXdoaXRlOiB3aGl0ZTtcclxuJGJvcmRlci1ib3R0b20tdGFibGU6IHJnYigyMjUsIDIyNSwgMjI1KTtcclxuJGNvbG9yLWhlYWRlci10YWJsZTogIzE5NzZkMjtcclxuJGNvbG9yLWJsdWUtLWhvdmVyOiAjNTZhNGYxO1xyXG5cclxuLy9jb250ZW5pZG9cclxuLmNvbnRhaW5lclBlcnNvbmEge1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC5jb250YWluZXJQZXJzb25hX19zdWIge1xyXG4gICAgICAgIHdpZHRoOiA3MCU7XHJcbiAgICAgICAgJi0tdGl0bGUge1xyXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItY3JlYXRlO1xyXG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogJGJveFNob2Fkb3cxO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IDAuNHM7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yLXdoaXRlO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA2dmg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTB2aDtcclxuICAgICAgICAgICAgICAgICY6aG92ZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWNyZWF0ZS0taG92ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgJi0tdGFibGV7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6ICRib3hTaG9hZG93MjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgbWF4LWhlaWdodDogMzUwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDN2aDtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAgICAgICAgIHRhYmxle1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgXHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICB0aGVhZHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItaGVhZGVyLXRhYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAkY29sb3Itd2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMnZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGJvZHl7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAkYm9yZGVyLWJvdHRvbS10YWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxdmg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246bnRoLW9mLXR5cGUoMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWhlYWRlci10YWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yLXdoaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDJ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAydmggM3ZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAuNHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICY6aG92ZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci1ibHVlLS1ob3ZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b246bnRoLW9mLXR5cGUoMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWNyZWF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yLXdoaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDJ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAydmggM3ZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAuNHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICY6aG92ZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci1jcmVhdGUtLWhvdmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAmLS10YWJsZTo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgICAgICAgICB3aWR0aDogNXB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDVweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgJi0tdGFibGU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2MyYzJjMjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAmLS10YWJsZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItaGVhZGVyLXRhYmxlO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHggNHB4IDRweCAycHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICYtLXRhYmxlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci1oZWFkZXItdGFibGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["DefaultModalComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PersonaListaComponent_tr_20_Template_button_click_9_listener","restoredCtx","ɵɵrestoreView","_r3","persona_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","openEditModal","PersonaListaComponent_tr_20_Template_button_click_11_listener","ctx_r4","deletePersona","ɵɵadvance","ɵɵtextInterpolate","nombre","ap_paterno","ap_materno","PersonaListaComponent","constructor","http","dialog","personas","ngOnInit","get","subscribe","data","console","log","openCreateModal","dialogRef","open","action","afterClosed","result","nuevaPersona","post","response","push","persona","personaEditada","put","id","personaActualizada","index","findIndex","p","delete","filter","ɵɵdirectiveInject","i1","HttpClient","i2","MatDialog","selectors","decls","vars","consts","template","PersonaListaComponent_Template","rf","ctx","PersonaListaComponent_Template_button_click_5_listener","ɵɵtemplate","PersonaListaComponent_tr_20_Template","ɵɵproperty"],"sources":["C:\\Users\\charl\\Documents\\GitHub\\hospital_client\\src\\app\\persona-lista\\persona-lista.component.ts","C:\\Users\\charl\\Documents\\GitHub\\hospital_client\\src\\app\\persona-lista\\persona-lista.component.html"],"sourcesContent":["//importamos OnInit\r\nimport { Component, OnInit } from '@angular/core';\r\n//importamos HttpClient\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n//importamo el modal\r\nimport { DefaultModalComponent} from '../DefaultsComponents/default-modal/default-modal.component';\r\n\r\n//creamos la interface\r\nexport interface Persona {\r\n  id?: string;\r\n  nombre: string;\r\n  ap_paterno: string;\r\n  ap_materno: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-persona-lista',\r\n  templateUrl: './persona-lista.component.html',\r\n  styleUrls: ['./persona-lista.component.scss'],\r\n})\r\n\r\nexport class PersonaListaComponent implements OnInit {\r\n  // Propiedad para almacenar los datos de las personas\r\n  personas: any[] = [];\r\n\r\n  //creamos un constructor\r\n  //private dialog: MatDialog\r\n  constructor(private http: HttpClient, private dialog: MatDialog) {}\r\n\r\n  //con el OnInit hacemos el get de la api\r\n  ngOnInit() {\r\n    this.http\r\n      .get('http://127.0.0.1:8000/api/v1.0/personas')\r\n      .subscribe((data: any) => {\r\n        this.personas = data.data;\r\n        console.log(data);\r\n      });\r\n  }\r\n\r\n  //Creamos la funcion crear \r\n  openCreateModal() {\r\n    const dialogRef = this.dialog.open(DefaultModalComponent, {\r\n      data: { action: 'create' },\r\n    });\r\n  \r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        // Se ha guardado una nueva persona, realiza las acciones necesarias, como enviar una solicitud HTTP para guardarla en el servidor\r\n        const nuevaPersona: Persona = {\r\n          //nombres de la base de datos\r\n          nombre: result.nombre,\r\n          ap_paterno: result.ap_paterno,\r\n          ap_materno: result.ap_materno\r\n        };\r\n  \r\n        // Envía la solicitud HTTP para guardar la nueva persona\r\n        this.http.post('http://127.0.0.1:8000/api/v1.0/persona/create', nuevaPersona)\r\n          .subscribe((response: any) => {\r\n            // Actualiza la lista de personas con la respuesta del servidor\r\n            this.personas.push(response.data);\r\n          });\r\n      }\r\n    });\r\n  }\r\n  \r\n  \r\n  //creamos la funcion para abrir el modal\r\n  openEditModal(persona: Persona) {\r\n    const dialogRef = this.dialog.open(DefaultModalComponent, {\r\n      data: {\r\n        action: 'edit',\r\n        nombre: persona.nombre,\r\n        ap_paterno: persona.ap_paterno,\r\n        ap_materno: persona.ap_materno\r\n      },\r\n    });\r\n  \r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        // Se ha guardado la edición de la persona, realiza las acciones necesarias, como enviar una solicitud HTTP para actualizarla en el servidor\r\n        const personaEditada: Persona = {\r\n          //nombres de la base de datos\r\n          nombre: result.nombre,\r\n          ap_paterno: result.ap_paterno,\r\n          ap_materno: result.ap_materno\r\n        };\r\n  \r\n        // Envía la solicitud HTTP para actualizar la persona en la ruta correspondiente (por ejemplo, 'http://127.0.0.1:8000/api/v1.0/persona/123')\r\n        this.http.put(`http://127.0.0.1:8000/api/v1.0/persona/update/${persona.id}`, personaEditada)\r\n          .subscribe((response: any) => {\r\n            // Actualiza la lista de personas con la respuesta del servidor\r\n            const personaActualizada = response.data;\r\n            const index = this.personas.findIndex(p => p.id === personaActualizada.id);\r\n            if (index !== -1) {\r\n              this.personas[index] = personaActualizada;\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  //creamos la funcion para eliminar la persona\r\n  deletePersona(persona: Persona) {\r\n    this.http.delete(`http://127.0.0.1:8000/api/v1.0/persona/delete/${persona.id}`)\r\n      .subscribe(() => {\r\n        // Elimina la persona de la lista local\r\n        this.personas = this.personas.filter(p => p.id !== persona.id);\r\n      });\r\n  }\r\n  \r\n  \r\n  \r\n}\r\n","<!-- usamos la metodologia bem para usar scss -->\r\n<div class=\"containerPersona\">\r\n    <div class=\"containerPersona__sub\">\r\n        <div class=\"containerPersona__sub--title\">\r\n            <h1>Personas</h1>\r\n            <button (click)=\"openCreateModal()\">Crear</button>\r\n        </div>\r\n        <div class=\"containerPersona__sub--table\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Persona</th>\r\n                        <th>Apellido Paterno</th>\r\n                        <th>Apellido Materno</th>\r\n                        <th>Acciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let persona of personas\">\r\n                        <td><b>{{ persona.nombre }}</b></td>\r\n                        <td>{{ persona.ap_paterno }}</td>\r\n                        <td>{{ persona.ap_materno }}</td>\r\n                        <td>\r\n                            <button (click)=\"openEditModal(persona)\">Edit</button>\r\n                            <button (click)=\"deletePersona(persona)\">Delete</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}